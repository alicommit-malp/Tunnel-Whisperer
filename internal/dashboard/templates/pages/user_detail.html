{{define "content"}}
<h1>User: {{.User.Name}}</h1>

<div class="card">
  <div class="card-header">
    <h2>Details</h2>
    <div class="flex gap-8">
      <a href="/api/users/{{.User.Name}}/download" class="btn btn-sm btn-primary">Download Config</a>
      <button class="btn btn-sm btn-danger" id="btn-delete" onclick="deleteUser('{{.User.Name}}')">Delete</button>
    </div>
  </div>
  <div class="kv">
    <span class="kv-label">Name</span>
    <span class="kv-value">{{.User.Name}}</span>
    <span class="kv-label">UUID</span>
    <span class="kv-value">{{or .User.UUID "â€”"}}</span>
    <span class="kv-label">SSH Key</span>
    <span class="kv-value">{{if .User.HasKey}}present{{else}}missing{{end}}</span>
  </div>
</div>

{{if .User.Tunnels}}
<div class="card">
  <h2>Port Mappings</h2>
  <table class="mt-16">
    <thead>
      <tr>
        <th>Client Port</th>
        <th>Remote Host</th>
        <th>Remote Port</th>
      </tr>
    </thead>
    <tbody>
      {{range .User.Tunnels}}
      <tr>
        <td class="text-mono">{{.LocalPort}}</td>
        <td class="text-mono">{{.RemoteHost}}</td>
        <td class="text-mono">{{.RemotePort}}</td>
      </tr>
      {{end}}
    </tbody>
  </table>
</div>
{{end}}
{{end}}

{{define "scripts"}}
<script src="/static/js/users.js"></script>
{{end}}
